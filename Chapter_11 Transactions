# 10.1 Transactions
/*
Transaction: is a group of SQL statements that represent a single unit of work. 
Transaction has the below properties which we refer to ACID: 
Atomicity: Each transaction either execute all statements successfully, or fail and restart all statements. 
Consistency: (?) Database remain consistent. 
Isolation: Each transaction work independently, with none effecting others. 
Durability: The changes that transaction make are permanent, regardless of accidents like server crash. 
*/

# 10.2 Creating Transactions
USE sql_store; 

START TRANSACTION; 

INSERT INTO orders(customer_id, order_date, status)
VALUES(1, '2019-01-01', 1); 

INSERT INTO order_items
VALUES(LAST_INSERT_ID(), 1, 1, 1); 

COMMIT; -- 如果想做错误检查则用ROLLBACK而非COMMIT

SHOW VARIABLES LIKE 'autocommit'; 
/*
这个变量表示了MySQL会自动装包我们输入的语句到Transaction里
当语句没有执行错误的时候，MYSQL会将它们一起打包并COMMIT执行
*/
